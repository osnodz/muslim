#!/usr/bin/env python
# coding: UTF-8

""" Nama        : Muslim
    Versi       : 1.0 (Mod by dy)
    Tanggal     : 28 September 2024
    Author      : Karjok Pangesty
    Tujuan      : Mengingatkan kita pada
                  waktu shalat
    Terimakasih : Allah SWT
                  Eka Pangesty, CRABS dan semua
                  umat Muslim seplanet bumi.
    NB          : Manusia ngga ada yang sempurna,
                  sama kaya tool ini.
"""

import sys, os, platform, time, random
import subprocess as sp
from time import sleep
from time import strftime as tm
from threading import Thread

banner = "\033[1;92mMuslim \033[0mv1.0"

if platform.python_version().split('.')[0] != '3':
    print('\033[93m[\033[0m!\033[93m] Sistem perangkat ini menggunakan Python \033[0mversi %s, \033[93msilahkan beralih ke \033[0mversi 3.x.x'%platform.python_version().split(' ')[0])
    sys.exit()
try:
    import requests
    from bs4 import BeautifulSoup as bs
    from requests import get
except ImportError:
    print('\033[91m[\033[0m!\033[91m] Sepertinya modul yang dibutuhkan belum terinstall \033[0mpip install -r modul.txt\033[0m')
    sys.exit()

def restart():
    python = sys.executable
    os.execl(python, python, * sys.argv)
    os.getcwd()

def animation_bar():
    bars = ["■□□□□□","□■□□□□","□□■□□□","□□□■□□","□□□□■□","□□□□□■","□□□□■□","□□□■□□","□□■□□□","□■□□□□","■□□□□□"]
    for i in range(50):
        sleep(0.1)
        sys.stdout.write('\r' + bars[(i % len(bars))] + ' Tunggu sebentar ')
        sys.stdout.flush()

def animation_dot():
    dots = ["⢿","⣻","⣽","⣾","⣷","⣯","⣟","⡿"]
    for i in range(50):
        sleep(0.1)
        sys.stdout.write('\rMemuat data lokasi... ' + dots[(i % len(dots))] + ' ')
        sys.stdout.flush()

def write(o):
    for i in o + '\n':
        sys.stdout.write(i)
        sys.stdout.flush()
        sleep(0.06)

def countdownTimer(start_minute, start_second):
    total_second = start_minute * 60 + start_second
    while total_second:
        mins, secs = divmod(total_second, 60)
        print(f'\r-{mins:02d}:{secs:02d} ', end='')
        time.sleep(1)
        total_second -= 1
    print("SEGERA LAKSANAKAN IBADAH SHALAT!")
    source = 'audio/iqomah'
    sp.call(['mpv '+source],shell=True,stdout=sp.DEVNULL,stderr=sp.STDOUT)

def gettime():
    write('Memperbarui jadwal...')
    try:
        ts = open('cookie/ts','r').read()
    except IOError:
        gettown()
    ts = open('cookie/ts','r').read()
    if len(ts) == 0:
        ts = '83'
    try:
        alarm_sahur = "03:00"
        r = get('https://www.jadwalsholat.org/jadwal-sholat/monthly.php?id='+ts)
    except requests.exceptions.ConnectionError:
        input('\n\033[91m[\033[0m×\033[91m] Konkesi terputus \033[0m(tekan enter) ')
        main()
    b = bs(r.text,'html.parser')
    tr = b.find('tr',class_="table_highlight")
    with open('cookie/sc','w') as sc:
        kota = b.find('option',attrs={'value':ts})
        i = tr.find_all('td')
        sc.write(i[0].text+','+alarm_sahur+','+i[1].text+','+i[2].text+','+i[5].text+','+i[6].text+','+i[7].text+','+i[8].text+','+kota.text)
    sc.close()

def gettown():
    os.system('clear && setterm --cursor off')
    print(banner+'\n')
    animation_dot()
    sleep(1.05)
    print("\n")
    print("\033[92m[\033[0m001\033[92m] Ambarawa\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m002\033[92m] Ambon\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m003\033[92m] Amlapura\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m004\033[92m] Amuntai\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m005\033[92m] Argamakmur\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m006\033[92m] Atambua\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m007\033[92m] Babo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m008\033[92m] Bagan Siapiapi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m009\033[92m] Bajawa\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m010\033[92m] Balige\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m011\033[92m] Balikpapan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m012\033[92m] Banda Aceh\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m013\033[92m] Bandar Lampung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m014\033[92m] Bandung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m015\033[92m] Bangkalan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m016\033[92m] Bangkinang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m017\033[92m] Bangko\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m018\033[92m] Bangli\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m019\033[92m] Banjar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m020\033[92m] Banjar Baru\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m021\033[92m] Banjarmasin\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m022\033[92m] Banjarnegara\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m023\033[92m] Bantaeng\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m024\033[92m] Banten\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m025\033[92m] Bantul\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m026\033[92m] Banyuwangi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m027\033[92m] Barabai\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m028\033[92m] Barito\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m029\033[92m] Barru\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m030\033[92m] Batam\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m031\033[92m] Batang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m032\033[92m] Batu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m033\033[92m] Baturaja\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m034\033[92m] Batusangkar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m035\033[92m] Baubau\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m036\033[92m] Bekasi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m037\033[92m] Bengkalis\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m038\033[92m] Bengkulu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m039\033[92m] Benteng\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m040\033[92m] Biak\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m041\033[92m] Bima\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m042\033[92m] Binjai\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m043\033[92m] Bireuen\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m044\033[92m] Bitung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m045\033[92m] Blitar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m046\033[92m] Blora\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m047\033[92m] Bogor\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m048\033[92m] Bojonegoro\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m049\033[92m] Bondowoso\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m050\033[92m] Bontang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m051\033[92m] Boyolali\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m052\033[92m] Berbes\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m053\033[92m] Bukit Tinggi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m054\033[92m] Bulukamba\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m055\033[92m] Buntok\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m056\033[92m] Cepu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m057\033[92m] Ciamis\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m058\033[92m] Cianjur\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m059\033[92m] Cibinong\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m060\033[92m] Cilacap\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m061\033[92m] Cilegon\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m062\033[92m] Cimahi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m063\033[92m] Cirebon\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m064\033[92m] Curup\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m065\033[92m] Demak\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m066\033[92m] Denpasar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m067\033[92m] Depok\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m068\033[92m] Dili\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m069\033[92m] Dompu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m070\033[92m] Donggala\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m071\033[92m] Dumai\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m072\033[92m] Ende\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m073\033[92m] Engano\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m074\033[92m] Enerkang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m075\033[92m] Fakfak\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m076\033[92m] Garut\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m077\033[92m] Gianyar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m078\033[92m] Gombong\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m079\033[92m] Gorontalo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m080\033[92m] Gersik\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m081\033[92m] Gunung Sitoli\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m082\033[92m] Indramayu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m083\033[92m] Jakarta\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m084\033[92m] Jambi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m085\033[92m] Jayapura\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m086\033[92m] Jember\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m087\033[92m] Jeneponto\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m088\033[92m] Jepara\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m089\033[92m] Jombang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m090\033[92m] Kabanjahe\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m091\033[92m] Kalabahi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m092\033[92m] Kalianda\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m093\033[92m] Kandangan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m094\033[92m] Karanganyar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m095\033[92m] Karawang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m096\033[92m] Kasungan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m097\033[92m] Kayuagung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m098\033[92m] Kebumen\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m099\033[92m] Kediri\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m100\033[92m] Kefamenanu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m101\033[92m] Kendal\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m102\033[92m] Kendari\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m103\033[92m] Kertosono\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m104\033[92m] Ketapang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m105\033[92m] Kisaran\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m106\033[92m] Klaten\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m107\033[92m] Kolaka\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m108\033[92m] Kota Baru Pulau Laut\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m109\033[92m] Kota Bumi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m110\033[92m] Kota Jantho\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m111\033[92m] Kotamobagu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m112\033[92m] Kuala Kapuas\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m113\033[92m] Kuala Kurung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m114\033[92m] Kuala Pembuang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m115\033[92m] Kuala Tungkal\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m116\033[92m] Kudus\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m117\033[92m] Kuningan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m118\033[92m] Kupang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m119\033[92m] Kutacane\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m120\033[92m] Kutoarjo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m121\033[92m] Labuhan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m122\033[92m] Lahat\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m123\033[92m] Lamongan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m124\033[92m] Langsa\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m125\033[92m] Larantuka\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m126\033[92m] Lawang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m127\033[92m] Lhoseumawe\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m128\033[92m] Limboto\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m129\033[92m] Lubuk Basung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m130\033[92m] Lubuk Linggau\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m131\033[92m] Lubuk Pakam\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m132\033[92m] Lubuk Sikaping\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m133\033[92m] Lumajang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m134\033[92m] Luwuk\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m135\033[92m] Madiun\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m136\033[92m] Magelang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m137\033[92m] Magetan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m138\033[92m] Majalengka\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m139\033[92m] Majene\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m140\033[92m] Makale\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m141\033[92m] Makassar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m142\033[92m] Malang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m143\033[92m] Mamuju\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m144\033[92m] Manna\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m145\033[92m] Manokwari\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m146\033[92m] Marabahan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m147\033[92m] Maros\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m148\033[92m] Martapura\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m149\033[92m] Masohi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m150\033[92m] Mataram\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m151\033[92m] Maumere\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m152\033[92m] Medan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m153\033[92m] Mempawah\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m154\033[92m] Menado\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m155\033[92m] Mentok\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m156\033[92m] Merauke\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m157\033[92m] Metro\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m158\033[92m] Meulaboh\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m159\033[92m] Mojokerto\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m160\033[92m] Muara Bulian\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m161\033[92m] Muara Bungo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m162\033[92m] Muara Enim\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m163\033[92m] Muara Teweh\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m164\033[92m] Muara Sijunjung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m165\033[92m] Muntilan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m166\033[92m] Nambire\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m167\033[92m] Negara\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m168\033[92m] Nganjuk\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m169\033[92m] Ngawi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m170\033[92m] Nunukan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m171\033[92m] Pacitan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m172\033[92m] Padang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m173\033[92m] Padang Panjang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m174\033[92m] Padang Sidempuan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m175\033[92m] Pagaralam\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m176\033[92m] Painan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m177\033[92m] Palangkaraya\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m178\033[92m] Palembang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m179\033[92m] Palopo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m180\033[92m] Palu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m181\033[92m] Pamekasan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m182\033[92m] Pandeglang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m183\033[92m] Pangka\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m184\033[92m] Pangkajene Sidenreng\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m185\033[92m] Pangkalan Bun\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m186\033[92m] Pangkalpinang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m187\033[92m] Panyabungan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m188\033[92m] Pare\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m189\033[92m] Parepare\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m190\033[92m] Pariaman\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m191\033[92m] Pasuruan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m192\033[92m] Pati\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m193\033[92m] Payakumbuh\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m194\033[92m] Pekalongan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m195\033[92m] Pekan Baru\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m196\033[92m] Pemalang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m197\033[92m] Pematangsiantar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m198\033[92m] Pendopo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m199\033[92m] Pinrang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m200\033[92m] Pleihari\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m201\033[92m] Polewali\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m202\033[92m] Pondok Gede\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m203\033[92m] Ponorogo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m204\033[92m] Pontianak\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m205\033[92m] Poso\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m206\033[92m] Parabumlih\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m207\033[92m] Praya\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m208\033[92m] Probolingga\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m209\033[92m] Purbalingga\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m210\033[92m] Purukcahu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m211\033[92m] Porwokarta\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m212\033[92m] Purwodadi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m213\033[92m] Purwokerto\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m214\033[92m] Purworejo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m215\033[92m] Putussibau\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m216\033[92m] Raha\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m217\033[92m] Rangkasbitung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m218\033[92m] Rantau\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m219\033[92m] Rantauprapat\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m220\033[92m] Rantepao\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m221\033[92m] Rembang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m222\033[92m] Rengat\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m223\033[92m] Ruteng\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m224\033[92m] Sabang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m225\033[92m] Salatiga\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m226\033[92m] Samarinda\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m227\033[92m] Sampang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m228\033[92m] Sampit\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m229\033[92m] Sanggau\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m230\033[92m] Sawahlunto\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m231\033[92m] Sekayo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m232\033[92m] Selong\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m233\033[92m] Semarang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m234\033[92m] Sengkang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m235\033[92m] Serang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m236\033[92m] Serui\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m237\033[92m] Sibolga\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m238\033[92m] Sidikalang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m239\033[92m] Sidoarjo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m240\033[92m] Sigli\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m241\033[92m] Singaparna\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m242\033[92m] Singaraja\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m243\033[92m] Singkawang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m244\033[92m] Sinjai\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m245\033[92m] Sintang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m246\033[92m] Situbondo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m247\033[92m] Slawi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m248\033[92m] Sleman\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m249\033[92m] Soasiu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m250\033[92m] Soe\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m251\033[92m] Solo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m252\033[92m] Solok\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m253\033[92m] Soreang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m254\033[92m] Sorong\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m255\033[92m] Sragen\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m256\033[92m] Stabat\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m257\033[92m] Subang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m258\033[92m] Sukabumi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m259\033[92m] Sukoharjo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m260\033[92m] Sumbawa Besar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m261\033[92m] Sumedang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m262\033[92m] Sumenep\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m263\033[92m] Sungai Liat\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m264\033[92m] Sungai Penuh\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m265\033[92m] Sungguminasa\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m266\033[92m] Surabaya\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m267\033[92m] Surakarta\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m268\033[92m] Tabanan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m269\033[92m] Tahuna\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m270\033[92m] Takalar\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m271\033[92m] Takengon\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m272\033[92m] Tamiang Layang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m273\033[92m] Tanah Garot\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m274\033[92m] Tangerang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m275\033[92m] Tanjung Balai\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m276\033[92m] Tanjung Enim\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m277\033[92m] Tanjung Pandan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m278\033[92m] Tanjung Pinang\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m279\033[92m] Tanjung Redep\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m280\033[92m] Tanjung Selor\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m281\033[92m] Tapak Tuan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m282\033[92m] Tarakan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m283\033[92m] Tarutung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m284\033[92m] Tasikmalaya\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m285\033[92m] Tebing Tinggi\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m286\033[92m] Tegal\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m287\033[92m] Temanggung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m288\033[92m] Tembilahan\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m289\033[92m] Tenggarong\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m290\033[92m] Ternate\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m291\033[92m] Tolitoli\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m292\033[92m] Tondano\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m293\033[92m] Trenggalek\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m294\033[92m] Tual\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m295\033[92m] Tuban\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m296\033[92m] Tulung Agung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m297\033[92m] Ujung Berung\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m298\033[92m] Ungaran\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m299\033[92m] Waikabubak\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m300\033[92m] Waingapu\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m301\033[92m] Wamena\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m302\033[92m] Watampone\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m303\033[92m] Watansoppeng\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m304\033[92m] Wates\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m305\033[92m] Wonogiri\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m306\033[92m] Wonosari\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m307\033[92m] Wonosobo\033[0m")
    sleep(0.03)
    print("\033[92m[\033[0m308\033[92m] Yogyakarta\033[0m")
    sleep(0.1)
    os.system('setterm --cursor on')
    inp = input('\nPilih lokasi: ')
    if int(inp) <= 82:
        pass
    elif int(inp) > 83 and int(inp) <= 204:
        inp = str(int(inp)-1)
    elif int(inp) >= 205:
        inp = str(int(inp)-1)
    else:
        inp = '308'
    print()
    ts = open('cookie/ts','w')
    ts.write(inp)
    ts.close()
    gettime()

def start():
    global u, k, s, d, a, m, i, o, x
    try:
        try:
            o = open('cookie/sc','r').read()
        except IOError:
            gettime()
        o = open('cookie/sc','r').read()
        o = o.split(',')
        if o[0] != tm('%d'):
            gettime()
        u = int(o[1].replace(':',''))
        k = int(o[2].replace(':',''))
        s = int(o[3].replace(':',''))
        d = int(o[4].replace(':',''))
        a = int(o[5].replace(':',''))
        m = int(o[6].replace(':',''))
        i = int(o[7].replace(':',''))
        x = int(tm('%H%M'))
        if x > k and x < s:
            ss = 'shalat Subuh'
        elif x > s and x < d:
            ss = 'shalat Dzuhur'
        elif x > d and x < a:
            ss = 'shalat Ashar'
        elif x > a and x < m:
            ss = 'shalat Maghrib'
        elif x > m and x < i:
            ss = 'shalat Isya'
        elif x > i and u < k or x < 2400 and u < k and x < u:
            ss = 'Sahur'
        else:
            ss = 'Imsak'
        os.system('clear && setterm --cursor off')
        sleep(1)
        print(banner)
        print(f'''
Jadwal shalat tanggal \033[96m{tm('%d %B, %Y')}\033[0m
untuk wilayah \033[96m{o[8]}\033[0m dan sekitarnya.

Imsak        :       {o[2]}
Subuh        :       {o[3]}
Dzuhur       :       {o[4]}
Ashar        :       {o[5]}
Maghrib      :       {o[6]}
Isya         :       {o[7]}

Sedang menantikan waktu \033[96m{ss}\033[0m...\n''')
        while True:
            x = int(tm('%H%M'))
            time = tm('%H:%M:%S')
            if x == u:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print('\n\033[92m[\033[0m●\033[92m] WAKTUNYA BANGUN SAHUR\n\033[0malarm sahur sedang aktif')
                sleep(1)
                puasa()
                start()
                break
            elif x == k:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print(f'\n\033[92m[\033[0m●\033[92m] WAKTUNYA IMSAK\n\033[0muntuk wilayah \033[96m{o[8]} \033[0mdan sekitarnya')
                sleep(1)
                puasa()
                start()
                break
            elif x == s:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print(f'\n\033[92m[\033[0m●\033[92m] SAATNYA ADZAN SUBUH\n\033[0muntuk wilayah \033[96m{o[8]} \033[0mdan sekitarnya\n')
                shalat()
                iqomah()
                start()
                break
            elif x == d:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print(f'\n\033[92m[\033[0m●\033[92m] SAATNYA ADZAN DZUHUR\n\033[0muntuk wilayah \033[96m{o[8]} \033[0mdan sekitarnya\n')
                shalat()
                iqomah()
                start()
                break
            elif x == a:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print(f'\n\033[92m[\033[0m●\033[92m] SAATNYA ADZAN ASHAR\n\033[0muntuk wilayah \033[96m{o[8]} \033[0mdan sekitarnya\n')
                shalat()
                iqomah()
                start()
                break
            elif x == m:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print(f'\n\033[92m[\033[0m●\033[92m] SAATNYA ADZAN MAGHRIB\n\033[0muntuk wilayah \033[96m{o[8]} \033[0mdan sekitarnya\n')
                shalat()
                iqomah()
                start()
                break
            elif x == i:
                os.system('clear && setterm --cursor on')
                sleep(1)
                print(banner)
                print(f'\n\033[92m[\033[0m●\033[92m] SAATNYA ADZAN ISYA\n\033[0muntuk wilayah \033[96m{o[8]} \033[0mdan sekitarnya\n')
                shalat()
                iqomah()
                start()
                break
            else:
                print('\rSekarang pukul \033[91m{}\033[0m '.format(time),end=''),;sys.stdout.flush();sleep(1);
    except KeyboardInterrupt:
        os.system('setterm --cursor on')
        print("\n\n\033[93m[\033[0m!\033[93m] Ditunda, kembali semula\033[0m ",end='')
        sleep(1.5)
        main()

def sound():
    if tm('%H:%M') == o[1]:
        source = 'audio/saur'
    elif tm('%H:%M') == o[2]:
        source = 'audio/imsak'
    elif tm('%H:%M') == o[3]:
        source = 'audio/fajar'
    else:
        source = 'audio/adzan'
    sp.call(['mpv '+source],shell=True,stdout=sp.DEVNULL,stderr=sp.STDOUT)

def salam():
    print('\n')
    for i in random.choice(txt):
        print(str(i.replace('\n','')),end=''),;sys.stdout.flush();sleep(0.05)
    sleep(2)

def iqomah():
    os.system('clear && setterm --cursor off')
    print(banner)
    print('\n\033[94m[\033[0m●\033[94m] PERHATIKAN TIMER IQOMAH\033[0m\n')
    sleep(1)
    try:
        countdownTimer(1, 00)
    except KeyboardInterrupt:
        os.system('setterm --cursor on')
        print("\n\n\033[93m[\033[0m!\033[93m] Ditunda, kembali semula\033[0m ",end='')
        sleep(1.5)
        main()

def shalat():
    global txt
    txt = open('string/__','r').readlines()
    st = ['WAKTU SHALAT TELAH TIBA. DIAM DULU ADA YANG ADZAN']
    for i in st:
        print(i.center(5))
        sleep(1)
    trd = Thread(name='adzan',target=sound)
    trd.start()
    while trd.is_alive():
        salam()

def puasa():
    global txt
    if int(tm('%H%M')) == u:
        txt = open('string/___','r').readlines()
    else:
        txt = open('string/____','r').readlines()
    trd = Thread(name='puasa',target=sound)
    trd.start()
    while trd.is_alive():
        salam()

def main():
    try:
        os.system('clear')
        print(banner)
        print()
        write('Assalamualaikum')
        print("\033[2mJadwal Shalat | Adzan | Timer Iqomah\033[0m")
        sleep(1)
        print("\n[ OPSI ]\n")
        print("\033[92m[\033[0m1\033[92m] Aktifkan Jadwal\033[0m")
        print("\033[92m[\033[0m2\033[92m] Ubah Lokasi\033[0m")
        print("\033[92m[\033[0m3\033[92m] Keluar Program\033[0m")
        print()
        option = input('\033[0mSilahkan pilih opsi: ')
        if option == '1':
            print()
            animation_bar()
            sleep(1)
            start()
        elif option == '2':
            print()
            animation_bar()
            sleep(1)
            try:
                sp.call('rm cookie/ts')
            except:
                pass
            gettown()
            start()
        elif option == '3':
            print("\n\033[91m[\033[0m!\033[91m] Keluar dari program\033[0m")
            sys.exit()
        else:
            print("\n\033[93m[\033[0m?\033[93m] Opsi tidak ditemukan\033[0m ",end='')
            sleep(1)
            restart()
    except KeyboardInterrupt:
        os.system('setterm --cursor on')
        print("\n\n\033[91m[\033[0m!\033[91m] Dibatalkan oleh Pengguna\033[0m")
        sys.exit(1)

if __name__ == '__main__':
    try:
        os.mkdir('cookie')
    except OSError:
        pass
    main()
